- name: Clone repo with Dockerfile
  ansible.builtin.git:
    repo: 'https://github.com/frankja2/nodejs-demoapp.git'
    dest: '/tmp/dockerfile-repo'
    version: main

- name: Build Docker image
  community.docker.docker_image:
    build:
      path: "Dockerfile"
    name: "test"
    source: build
    push: no